{"name":"Model U-Boat Module Control","tagline":"U-Boat Module Control (Arduino Hardware Control + RaspberryPi Web Interface)","body":"#U-Boat Module Control\r\n**Arduino Hardware Control + RaspberryPi Web Interface**\r\n\r\n**Project divided into two parts:**\r\n\r\n* [WM_InoSketch](WM_InoSketch/) Arduino Sketch for U-Boat Hardware Control \r\n* [WM_RPinoWI](WM_RPinoWI/)  Operator Command Web Interface for RaspberryPi Web Server\r\n* [WM_Shield](WM_Shield/) Arduino Shield Boards \r\n\r\n**-**\r\n\r\n     Copyright (C) 2013 Martinelli Michele\r\n\r\n     This program is free software: you can redistribute it and/or modify\r\n    \tit under the terms of the GNU General Public License as published by\r\n    \tthe Free Software Foundation, either version 3 of the License, or\r\n    \t(at your option) any later version.\r\n\r\n    \tThis program is distributed in the hope that it will be useful,\r\n    \tbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    \tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    \tGNU General Public License for more details.\r\n\r\n    \tYou should have received a copy of the GNU General Public License\r\n    \talong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n     \r\n\r\n##Description:\r\n\r\n**Hardware:**\r\n  * ARDUINO Mega 2560\r\n  * RaspberryPi\r\n  * Ethernet Shield\r\n  * Monster Moto Shiled (Main Engine + Ballast Tank)\r\n  * Current Sensor ACS714\r\n  * GPS Module EM406A\r\n  * Compass Module CMPS10\r\n  * Servo Controller (Rudders Direction/Depth)\r\n  * Pressure Sensor SSCDRNN015PAAA5 Honeywell\r\n  * Temperature Sensor DS18B20 Maxim\r\n  * Temperature Sensor LM35 (Motors)\r\n  * Sonar Sensor MB7078 XL-MaxSonar-WRCA \r\n\r\n**Library:**\r\n  * SPI\r\n  * Ethernet\r\n  * Servo\r\n  * Wire\r\n  * TinyGPS\r\n  * OneWire\r\n  * DHT22\r\n\r\n**Arduino:**\r\n * Reading DS18B20 Sensors\r\n * Reading DHT22 Sensors\r\n * Compass Module CMPS10\r\n * GPS Module EM406A\r\n * Data Calculations\r\n * Web Communication\r\n * Main Engine Command\r\n * Rudders Command\r\n * Ballast Tank Command\r\n * Auxiliary Command\r\n * Serial Print Debug\r\n\r\n**RaspberryPi:**\r\n * LAMP Web Server\r\n * OP.Cmd Web Interface\r\n * MySQL Datalogger\r\n\r\n##Wiring:\r\n\r\n**PWM Out:**\r\n  * Pin 2  - Main Engine Direction Ahead\r\n  * Pin 3  - Main Engine Direction Astern\r\n  * Pin 4  - Main Engine Speed\r\n  * Pin 5  - Rudder (Direction)\r\n  * Pin 6  - Rudder (Depth)\r\n  * Pin 7  - Ballast Tank Direction Diving\r\n  * Pin 8  - Ballast Tank Direction Emersion\r\n  * Pin 9  - Ballast Tank Speed\r\n  * Pin 10 - (Ethernet Shield)\r\n  * Pin 11 - (Ethernet Shield)\r\n  * Pin 12 - (Ethernet Shield)\r\n  * Pin 13 - Link LED Web Client Connect\r\n\r\n**Communication:**\r\n  * Pin 18 - EM406A GPS Module (Serial1 - TX)\r\n  * Pin 19 - EM406A CPS Module (Serial1 - RX)\r\n  * Pin 20 - CMPS10 Compass Module (SDA)\r\n  * Pin 21 - CMPS10 Compass Module (SCL)\r\n\r\n**Digital Out**\r\n  * Pin 43 - Horn Signaling\r\n  * Pin 45 - Auxiliary Light\r\n  * Pin 47 - Flashing\r\n  * Pin 49 - Buzzer Signaling\r\n\r\n**Analog In:**\r\n\r\n  * Pin 5  - Main Engine Motor Temperature (Sensor LM35)\r\n  * Pin 6  - Ballast Tank Motor Temperature (Sensor LM35)\r\n  * Pin 7  - Main Engine Motor Current Sense\r\n  * Pin 8  - Ballast Tank Motor Current Sense\r\n  * Pin 9  - Engine Battery Current\r\n  * Pin 10 - RaspberryPi Supply (3,3V)\r\n  * Pin 11 - Pressure (Sensor SSCDRNN015P)\r\n  * Pin 12 - Hardware Battery Voltage\r\n  * Pin 13 - Engine Battery Voltage\r\n  * Pin 14 - Front Sonar (Sensor MB7078 Vcc/1024 for Cm)\r\n  * Pin 15 - Bottom Sonar (Sensor MB7078 Vcc/1024 for Cm)\r\n\r\n**Digital In:**\r\n  * Pin 23 - Temperature Sensors (DS18B20 OneWire Protocol)\r\n  * Pin 25 - Ballast Tank Full\r\n  * Pin 27 - Ballast Tank Empty\r\n  * Pin 29 - Flooding Sensor\r\n  * Pin 31 - Collision Sensor Front\r\n  * Pin 33 - Collision Sensor Bottom\r\n  * Pin 35 - Collision Sensor Left\r\n  * Pin 37 - Collision Sensor Right\r\n  * Pin 39 - Temperature and Humidity Sensor DHT22\r\n  * Pin 41 - RaspberryPi \r\n \r\n\r\n##System Structure:\r\n\r\n**ARDUINO**\r\nMain U-Boat controller\r\n- Function...\r\n- Web Comunication Function\r\n     Send Data via GET method:   \r\n  \thttp://..../index.php?TimeSc=...&DateD=...&DateM=...\r\n\r\n**Data List:**\r\n\t\r\n\t\r\n       \tTimeSc Time On\r\n       \t       \t\r\n     \tDateD  Day\r\n     \tDateM  Month\r\n     \tDateY  Year\r\n     \tTimeH  Hour\r\n     \tTimeM  Minute\r\n     \t\r\n     \tGPSLat GPS Latitude\r\n     \tGPSLng GPS Longitude\r\n     \tCmpsH  Compass Heading\r\n\tCmpsP  Compass Pitch\r\n\tCmpsR  Compass Roll\r\n     \tSpeed  Speed\r\n     \tDepth  Depth\r\n     \t     \t   \t\r\n     \tTmpExt Temperature External\r\n     \tTmpInt Temperature Internal\r\n     \tHmdInt Humidity Internal\r\n     \tTmpH2O Temperature Water\r\n     \tMEnTmp Main Engine Motor Temperature\r\n     \tBlTTmp Ballast Tank Motor Temperature\r\n     \t\r\n     \tHdwBtV HdwBtV Hardware Battery Voltage\r\n     \tEngBtV Engine Battery Voltage\r\n     \tEngBtI Engine Battery Current\r\n     \tRPiBtV RPi Battery Voltage\r\n     \tBtAtmy Battery Autonomy\r\n     \tMEnSnI Main Engine Motor Current\r\n     \tBlTSnI Ballast Tank Motor Current\r\n     \t\r\n     \tSonarF Sonar Front\r\n     \tSonarB Sonar Back\r\n     \tCllSnr Collision Sensors\r\n     \t\r\n     \tOprCmd Operator Command\r\n     \tPrmCmd Parameter Command\r\n     \tMsgAlm Message Allarm\r\n     \tCmdSts Command Status\r\n     \tInpSts Digital Input Status\r\n     \tOutSts Digital Output Status\r\n     \t   \r\n\r\n- \tRead Data via GET method\r\n- \t'$' Read OpCmd (Operator Command)\r\n- \t'@' Read PrCmd (Parameter Command)\r\n- \tOpCmd_Rd0 Op.Command Care On\r\n- \tOpCmd_Wt0 Waiting Care On\r\n- \tPrCmd_Rd0 Calculation\r\n- \tOpCmd_Rd0 + OpCmd_Wt0 = OpCmd_Rd1 Op.Command Execution\r\n\r\n\r\n**RASPBERRY PI**\r\nWeb Server for Operator Command Web Interface\r\n-  Read Data via GET method\r\n-  Send Operator Command via GET method:\r\n\thttp://..../index.php?$[OpCmd]@[OpCmd Parameter]\r\n\r\n**OpCmd List:**\r\n\t\r\n\t\r\n           00  \"Engine Stop\"\r\n           01  \"Fixed/Reset Rudder Direction\"\r\n           02  \"Quadrant Turn Port Direction\"\r\n           03  \"Quadrant Turn Starboard Direction\"\r\n           04  \"90° Turn Port Direction\"\r\n           05  \"90° Turn Starboard Direction\"\r\n           06  \"Reversing Port Direction\"\r\n           07  \"Reversing Starboard Direction\"\r\n           08  \"Engine Astern\"\r\n           09  \"Engine Ahead\"\r\n           10  \"Dynamic Emersion\"\r\n           11  \"Dynamic Diving\"\r\n           12  \"Static Emersion\"\r\n           13  \"Static Diving\"\r\n           14  \"Surface\"\r\n           15  \"Fixed/Reset Rudder Depth\"\r\n           21   C1\r\n           22   C2\r\n           23   C3\r\n           24   C4\r\n\r\n--\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}